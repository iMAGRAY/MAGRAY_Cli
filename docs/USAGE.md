# MAGRAY CLI - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/yourusername/MAGRAY_Cli.git
cd MAGRAY_Cli

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
cargo build --release

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Makefile
make build
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä (openai, anthropic, local)
LLM_PROVIDER=openai

# OpenAI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
OPENAI_API_KEY=sk-proj-...
OPENAI_MODEL=gpt-4o-mini

# –ò–ª–∏ Anthropic
ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_MODEL=claude-3-haiku-20240307

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
LOCAL_LLM_URL=http://localhost:1234/v1
LOCAL_LLM_MODEL=llama-3.2-3b-instruct

# –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
MAX_TOKENS=1000
TEMPERATURE=0.7
RUST_LOG=info
```

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
```bash
magray
# –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é —Å–µ—Å—Å–∏—é —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
```

### –ü—Ä–æ—Å—Ç–æ–π —á–∞—Ç
```bash
magray chat "–ß—Ç–æ —Ç–∞–∫–æ–µ Rust?"
# –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–¥–∏–Ω–æ—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ LLM
```

### –£–º–Ω—ã–π —Ä–µ–∂–∏–º (–º–Ω–æ–≥–æ—à–∞–≥–æ–≤–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
```bash
magray smart "–°–æ–∑–¥–∞–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–∞ Rust —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö"
# –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤
```

### –†–∞–±–æ—Ç–∞ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
```bash
# –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
magray tool file read src/main.rs

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
magray tool file write test.txt "Hello, World!"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
magray tool dir list ./src

# Git –æ–ø–µ—Ä–∞—Ü–∏–∏
magray tool git status
magray tool git commit "Add new feature"

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
magray tool shell exec "cargo test"

# –ü–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
magray tool web search "Rust async programming"
```

### GPU —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ GPU
magray gpu status

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ GPU
magray gpu info

# –ë–µ–Ω—á–º–∞—Ä–∫ GPU
magray gpu benchmark
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏
```bash
# –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
magray models list

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–µ–π
magray models check

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π
magray models download
```

### –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
# –ü–æ–ª–Ω—ã–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
magray status

# –í–µ—Ä—Å–∏—è
magray version
```

## üéØ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –§–ª–∞–≥–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
```bash
# –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
magray --debug chat "test"

# –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º (–º–∏–Ω–∏–º—É–º –≤—ã–≤–æ–¥–∞)
magray --quiet status

# –ë–µ–∑ —Ü–≤–µ—Ç–æ–≤ (–¥–ª—è CI/CD)
magray --no-color version
```

### –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
MAGRAY –ø–æ–Ω–∏–º–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –í–º–µ—Å—Ç–æ: magray tool file read test.txt
magray smart "–ø–æ–∫–∞–∂–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ test.txt"

# –í–º–µ—Å—Ç–æ: magray tool dir list ./src
magray smart "–∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ src?"

# –í–º–µ—Å—Ç–æ: magray tool shell exec "mkdir new_folder"
magray smart "—Å–æ–∑–¥–∞–π –ø–∞–ø–∫—É new_folder"
```

### –°–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏
```bash
# –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
magray smart "—Å–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç TODO –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å README"

# –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
magray smart "–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫–æ–¥ –≤ src/ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ —É–ª—É—á—à–µ–Ω–∏—è"

# –†–∞–±–æ—Ç–∞ —Å Git
magray smart "–ø—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å git –∏ —Å–¥–µ–ª–∞–π –∫–æ–º–º–∏—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

## üíæ –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏

### –¢—Ä–∏ —É—Ä–æ–≤–Ω—è –ø–∞–º—è—Ç–∏:
1. **Interact** (24—á) - —Ç–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
2. **Insights** (90–¥) - –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã  
3. **Assets** (‚àû) - –∫–æ–¥, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–∞–º—è—Ç–∏
```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
magray memory stats

# –ü–æ–∏—Å–∫ –≤ –ø–∞–º—è—Ç–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
magray memory search "async function"
```

## üê≥ Docker

### CPU –≤–µ—Ä—Å–∏—è
```bash
docker run -it --rm \
  -v $(pwd):/workspace \
  -e OPENAI_API_KEY=$OPENAI_API_KEY \
  magray:cpu chat "Hello"
```

### GPU –≤–µ—Ä—Å–∏—è (—Ç—Ä–µ–±—É–µ—Ç NVIDIA Docker)
```bash
docker run -it --rm --gpus all \
  -v $(pwd):/workspace \
  -e OPENAI_API_KEY=$OPENAI_API_KEY \
  magray:gpu smart "analyze performance"
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `RUST_LOG` - —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (trace, debug, info, warn, error)
- `MAGRAY_MODELS_DIR` - –ø—É—Ç—å –∫ –º–æ–¥–µ–ª—è–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ./models)
- `MAGRAY_CACHE_DIR` - –ø—É—Ç—å –∫ –∫—ç—à—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ./cache)
- `NO_COLOR` - –æ—Ç–∫–ª—é—á–∏—Ç—å —Ü–≤–µ—Ç–∞ –≤ –≤—ã–≤–æ–¥–µ
- `MAGRAY_TIMEOUT` - —Ç–∞–π–º–∞—É—Ç –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 300)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π
–ú–æ–¥–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:
- BGE-M3 embeddings (768D)
- BGE reranker v2-m3
- Qwen3 embeddings (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
RUST_LOG=debug magray status

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
RUST_LOG=error magray chat "test"

# –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
RUST_LOG=trace magray smart "complex task"
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
```bash
# –ë–µ–Ω—á–º–∞—Ä–∫ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
cargo bench --bench vector_search

# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
RUST_LOG=info magray status --verbose
```

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –û—à–∏–±–∫–∞ "OPENAI_API_KEY not set"
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
1. –§–∞–π–ª `.env` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `OPENAI_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
3. –ö–ª—é—á –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-proj-`

### –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π
```bash
# –†—É—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π
make download-models

# –ò–ª–∏ —á–µ—Ä–µ–∑ cargo
cargo run --bin download_models
```

### GPU –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CUDA toolkit
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `magray gpu status`

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ CPU
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à–∏–µ –º–æ–¥–µ–ª–∏
- –í–∫–ª—é—á–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ GPU –≤–µ—Ä—Å–∏—é

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–±—Ä–æ—Å –∫—ç—à–∞
```bash
rm -rf cache/
magray status
```

### –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π
```bash
rm -rf models/
make download-models
```

### –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
magray --debug status > debug.log 2>&1
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](ARCHITECTURE.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞](DEVELOPER.md)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.rs/magray)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](../examples/)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues: [github.com/yourusername/MAGRAY_Cli/issues](https://github.com/yourusername/MAGRAY_Cli/issues)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [docs/](../docs/)
- Discord: [–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É](https://discord.gg/magray)