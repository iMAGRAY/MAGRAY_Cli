# üéØ –ö–ê–ö E2E –°–ò–°–¢–ï–ú–ê –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–£–ï–¢ –° MAGRAY CLI

## üìã –†–µ–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### 1Ô∏è‚É£ **–†–ï–ñ–ò–ú –û–î–ò–ù–û–ß–ù–´–• –ö–û–ú–ê–ù–î** (Simple Mode)
–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç CLI —Å –∫–æ–º–∞–Ω–¥–æ–π `chat` –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ–º:

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è MAGRAY CLI
cargo build -p cli --bin magray

# –ó–∞–ø—É—Å–∫ —Å –ø—Ä–æ—Å—Ç—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
cargo run -p cli --bin magray -- chat "–ø—Ä–∏–≤–µ—Ç"

# –ò–ª–∏ –µ—Å–ª–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫ —É–∂–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
./target/debug/magray.exe chat "–ø—Ä–∏–≤–µ—Ç"
```

**–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –∏–∑ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:**
```bash
# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
cargo run -p cli --bin magray -- chat "–ø—Ä–∏–≤–µ—Ç"

# –ü—Ä–æ—Å—å–±–∞ –æ –ø–æ–º–æ—â–∏  
cargo run -p cli --bin magray -- chat "–ø–æ–º–æ–≥–∏ –º–Ω–µ"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
cargo run -p cli --bin magray -- chat "–∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è?"

# –°–ª–æ–∂–Ω–∞—è –∑–∞–¥–∞—á–∞ (—Å–æ–∑–¥–∞–Ω–∏–µ Rust API)
cargo run -p cli --bin magray -- chat "–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Rust –ø—Ä–æ–µ–∫—Ç —Å API —Å–µ—Ä–≤–µ—Ä–æ–º, –¥–æ–±–∞–≤—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é JWT, —Å–æ–∑–¥–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –Ω–∞–ø–∏—à–∏ unit —Ç–µ—Å—Ç—ã –∏ integration —Ç–µ—Å—Ç—ã"
```

### 2Ô∏è‚É£ **–ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–´–ô –†–ï–ñ–ò–ú** (Interactive Mode)
–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç CLI –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ:

```rust
// 1. –ó–∞–ø—É—Å–∫ CLI –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–∞—Ç)
cargo run -p cli --bin magray

// 2. CLI –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:
// [‚òÖ] –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º —Å AgentOrchestrator!
// [‚ñ∫] –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏
//     'exit' –¥–ª—è –≤—ã—Ö–æ–¥–∞
// 
// ü§ñ –í—ã: _

// 3. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ stdin
stdin.write("–ø—Ä–∏–≤–µ—Ç\n")

// 4. –ß–∏—Ç–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏–∑ stdout
let response = stdout.read_line()
// –û—Ç–≤–µ—Ç: "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø MAGRAY CLI..."

// 5. –ú–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥
stdin.write("–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞\n")
let response = stdout.read_line()

// 6. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
stdin.write("exit\n")
```

### 3Ô∏è‚É£ **–ü–†–û–¶–ï–°–° –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø**

#### **–ü—Ä–æ—Å—Ç–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π (basic_greeting):**
```bash
# –°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
1. cargo build -p cli --bin magray         # –ö–æ–º–ø–∏–ª—è—Ü–∏—è
2. cargo run -p cli --bin magray -- chat "–ø—Ä–∏–≤–µ—Ç"  # –ó–∞–ø—É—Å–∫ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
3. –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏–∑ stdout
4. GPT-5 nano –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞
```

#### **–°–ª–æ–∂–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (rust_api_creation):**
```bash
# –°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
1. cargo build -p cli --bin magray         # –ö–æ–º–ø–∏–ª—è—Ü–∏—è
2. cargo run -p cli --bin magray           # –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
3. –ñ–¥–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è CLI
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ stdin: "–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Rust –ø—Ä–æ–µ–∫—Ç —Å API —Å–µ—Ä–≤–µ—Ä–æ–º..."
5. –ß–∏—Ç–∞–µ—Ç –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π –æ—Ç–≤–µ—Ç –∏–∑ stdout (—Å —Ç–∞–π–º–∞—É—Ç–æ–º 120 —Å–µ–∫)
6. GPT-5 nano –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
   - creates_project_structure
   - implements_jwt_auth
   - provides_multiple_endpoints
   - includes_comprehensive_tests
   - follows_rust_best_practices
```

### 4Ô∏è‚É£ **HEALTH CHECK –ö–û–ú–ê–ù–î–´**
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:

```bash
# –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
cargo run -p cli --bin magray -- --help

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
cargo run -p cli --bin magray -- --version

# –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
cargo run -p cli --bin magray -- chat "test"
```

## üìä –ü–û–õ–ù–´–ô WORKFLOW E2E –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

```mermaid
graph TD
    A[–ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤] --> B[–ö–æ–º–ø–∏–ª—è—Ü–∏—è MAGRAY CLI]
    B --> C{–¢–∏–ø —Å—Ü–µ–Ω–∞—Ä–∏—è?}
    
    C -->|–ü—Ä–æ—Å—Ç–æ–π| D[cargo run -- chat "message"]
    C -->|–°–ª–æ–∂–Ω—ã–π| E[cargo run + stdin/stdout]
    
    D --> F[–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞]
    E --> G[–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥]
    
    F --> H[GPT-5 –≤–∞–ª–∏–¥–∞—Ü–∏—è]
    G --> H
    
    H --> I[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞]
    I --> J[HTML/JSON/MD —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã]
```

## üöÄ –ó–ê–ü–£–°–ö –ü–û–õ–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
cd tests
cargo run --bin magray_testing check

# 2. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
cargo run --bin magray_testing

# 3. –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ —Ç–µ—Å—Ç–æ–≤
cargo run --bin magray_testing -- --scenario-type complex_task

# 4. –ó–∞–ø—É—Å–∫ –±–µ–∑ GPT –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–±—ã—Å—Ç—Ä–µ–µ)
cargo run --bin magray_testing -- --skip-evaluation
```

## üìù –ü–†–ò–ú–ï–†–´ –†–ï–ê–õ–¨–ù–´–• –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–ô

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
```
–ö–û–ú–ê–ù–î–ê: cargo run -p cli --bin magray -- chat "–ø—Ä–∏–≤–µ—Ç"
–û–¢–í–ï–¢: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø MAGRAY CLI - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
–û–¶–ï–ù–ö–ê GPT-5: 
  - relevance: 5/5
  - politeness: 5/5
  - helpful_context: 4/5
```

### –ü—Ä–∏–º–µ—Ä 2: –°–ª–æ–∂–Ω–∞—è –∑–∞–¥–∞—á–∞
```
–ö–û–ú–ê–ù–î–ê: cargo run -p cli --bin magray
–í–í–û–î: –°–æ–∑–¥–∞–π REST API –Ω–∞ Rust —Å JWT
–û–¢–í–ï–¢: [300+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ —Å Cargo.toml, main.rs, auth.rs, tests...]
–û–¶–ï–ù–ö–ê GPT-5:
  - technical_accuracy: 5/5
  - completeness: 5/5
  - best_practices: 4/5
  - documentation: 4/5
```

## ‚öôÔ∏è –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

- **–¢–∞–π–º–∞—É—Ç—ã**: 10-150 —Å–µ–∫—É–Ω–¥ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- **–†–µ—Ç—Ä–∞–∏**: –î–æ 3 –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
- **–ë—É—Ñ–µ—Ä—ã**: BufReader –¥–ª—è stdout, writeln! –¥–ª—è stdin
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ü–∞ –æ—Ç–≤–µ—Ç–∞**: –ü–æ –º–∞—Ä–∫–µ—Ä–∞–º "‚úì", "Done", "–í—ã:" –∏–ª–∏ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–µ
- **Windows —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç cmd.exe –¥–ª—è –∑–∞–ø—É—Å–∫–∞

## üéØ –ò–¢–û–ì–û

E2E —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç:
1. **–ö–æ–º–ø–∏–ª—è—Ü–∏—é** MAGRAY CLI
2. **–ó–∞–ø—É—Å–∫** –≤ –Ω—É–∂–Ω–æ–º —Ä–µ–∂–∏–º–µ (chat –∏–ª–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π)
3. **–û—Ç–ø—Ä–∞–≤–∫—É** —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
4. **–ü–æ–ª—É—á–µ–Ω–∏–µ** –∏ –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤
5. **–í–∞–ª–∏–¥–∞—Ü–∏—é** –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ GPT-5 nano
6. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—é** –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ –≤–µ–¥–µ—Ç —Å–µ–±—è –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∑–∞–ø—É—Å–∫–∞—é—â–∏–π CLI –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–π —Å –Ω–∏–º —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª!